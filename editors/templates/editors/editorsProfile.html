{% extends "editor_layout.html" %} {% load static %} {% load bootstrap %} {% block title %}

<title>Profile | e-News Editor</title>

{% endblock title %} {% block content %}

<style>
  .profile-image {
    height: 10em;
    width: 10em;
    border-radius: 5%;
    box-shadow: 0 0.2em 0.5em;
    object-fit: cover;
  }
</style>

<div class="container-fluid">
  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-1">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="/editors" class="text-primary">Dashboard</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
          <a href="{% url 'profile'%}" class="text-primary">Profile </a>
        </li>
      </ol>
    </nav>
  </div>

  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-1">
    <h1 class="h3 mb-0 text-gray-800">Profile</h1>
  </div>
  {% include "message.html"%}
  <!-- Total News Content Row -->
  <div class="row">
    <!-- Editor Count Card -->
    <div class="col-xl-4 col-md-6 mb-4">
      <div class="card shadow h-100 py-2">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-2">
              {% comment %}
              <div class="text-xl font-weight-bold text-primary text-title text-center mb-1">Your Details</div>
              <hr />
              {% endcomment %}
              <div class="">
                <center>
                  <img
                    src="/media/{{request.user.profile.profile_pic}}"
                    width="60%"
                    class="card-img-top profile-image"
                  />
                </center>
              </div>
              <div class="py-3"><b>First Name :</b> <span>{{request.user.profile.firstname}}</span></div>
              <div class="py-3"><b>Last Name :</b> <span>{{request.user.profile.lastname}}</span></div>
              <div class="py-3"><b>Bio :</b> <span>{{request.user.profile.bio}}</span></div>
              <div class="py-3"><b>Email :</b> <span>{{request.user.email}}</span></div>
              <div class="py-3"><b>Phone :</b> <span>+977 {{request.user.profile.phone}}</span></div>
              <div class="py-3"><b>Address :</b> <span>{{request.user.profile.address}}</span></div>
              <div class="py-3"><b>City :</b> <span>{{request.user.profile.city}}</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- News Count Card -->
    <div class="col-xl-6 col-md-6 mb-4">
      <div class="card shadow h-100 py-2">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-2">
              <div class="text-xl font-weight-bold text-enews text-title text-center mb-1">Update Details</div>
              <div class="text-xs font-weight-bold text-enews text-muted text-center mb-1">
                <span class="text-danger">*</span> Please fill your details
              </div>
              <hr />

              <div class="py-3">
                <form method="POST" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="form-group row">
                    <div class="col-sm-6 mb-3 mb-sm-0">
                      <input
                        id="firstname"
                        name="firstname"
                        placeholder="Firstname"
                        value="{{request.user.profile.firstname}}"
                        type="text"
                        class="form-control validate"
                      />
                    </div>
                    <div class="col-sm-6">
                      <input
                        id="lastname"
                        name="lastname"
                        placeholder="Lastname"
                        value="{{request.user.profile.lastname}}"
                        type="text"
                        class="form-control validate"
                      />
                    </div>
                  </div>

                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">
                      <textarea
                        id="bio"
                        name="bio"
                        maxlength="70"
                        placeholder="Your Bio"
                        class="form-control validate"
                        required
                      >
                      {{request.user.profile.bio}}</textarea
                      >
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">
                      <input
                        id="email"
                        name="email"
                        placeholder="youremail@example.com"
                        value="{{request.user.email}}"
                        type="email"
                        class="form-control validate"
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">
                      <input
                        id="phone"
                        name="phone"
                        placeholder="981232413411"
                        value="{{request.user.profile.phone}}"
                        type="text"
                        class="form-control validate"
                      />
                    </div>
                  </div>

                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">
                      <input
                        id="address"
                        name="address"
                        placeholder="Budanilakantha, Baluwakhani"
                        value="{{request.user.profile.address}}"
                        type="text"
                        class="form-control validate"
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">
                      <input
                        id="city"
                        name="city"
                        placeholder="Kathmandu"
                        value="{{request.user.profile.city}}"
                        type="text"
                        class="form-control validate"
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-sm-12 mb-3 mb-sm-0">{{profileForm.profile_pic}}</div>
                  </div>
                  <button type="submit" class="btn btn-primary bg-enews">Update Profile</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endblock content %}
</div>
